Info2: <<
Package: shiboken-mac
Version: 0.5.0
Revision: 1
Source: http://www.pyside.org/files/shiboken-%v.tar.bz2
Source-MD5: ca377b865b09aff2f2a035fc5eb950e8
Maintainer: Jrabbit <jackjrabbit+fink@gmail.com>
HomePage: http://www.pyside.org/
License: LGPL
Description: Creates the PySide source files from Qt
BuildDependsOnly: True
Depends: qt4-mac-core-shlibs (>= 4.6.0), qt4-mac-gui-shlibs (>= 4.6.0),  generatorrunner-mac-shlibs
BuildDepends: cmake (>= 2.6.0), pkgconfig, generatorrunner-mac, apiextractor-mac, fink (>= 0.28)
# PatchFile: %n.patch
# PatchFile-MD5: 

CompileScript: <<
#!/bin/sh -ev
 export PATH=%p/lib/qt4-mac/bin:$PATH  
 %p/bin/cmake \
 --debug-output -DCMAKE_VERBOSE_MAKEFILE:BOOL=ON \
 -DCMAKE_INSTALL_PREFIX:PATH=%p \
 -DCMAKE_INCLUDE_PATH:PATH=%p/include \
 -DCMAKE_LIBRARY_PATH:PATH=%p/lib \
 -DCMAKE_OSX_DEPLOYMENT_TARGET:STRING="" \
 -DCMAKE_OSX_SYSROOT:PATH="/" \
 -DBUILD_SHARED_LIBS:BOOL=ON \
 -DCMAKE_INSTALL_PREFIX:PATH=%p \
 -DCMAKE_INSTALL_NAME_DIR:STRING=%p/lib \
 -DCMAKE_INSTALL_PREFIX:PATH=%p \
 -DBUILD_SHARED_LIBS:BOOL=ON \
 -DCMAKE_BUILD_WITH_INSTALL_RPATH:BOOL=OFF \
 -DCMAKE_INSTALL_RPATH:STRING="${CMAKE_INSTALL_NAME_DIR}" \
 CMakeLists.txt

make
<<
InstallScript: make install DESTDIR=%d

SplitOff: <<
  Package: %N-shlibs
  Files: <<
  lib/libshiboken.*.dylib
  lib/shiboken_generator.*.dylib
  <<
  Shlibs:<<
  !%p/lib/shiboken_generator.dylib
  !%p/lib/libshiboken.0.5.dylib
  <<
  DocFiles: COPYING
<<
SplitOff2: <<
  Package: %N-bin
  Files: %p/bin/shiboken
  BuildDependsOnly: False
  
 <<